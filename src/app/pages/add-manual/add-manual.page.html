
<ion-header>
  
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/Waste-Home"></ion-back-button>
    </ion-buttons>
    <ion-title>Add Waste to your log</ion-title>
  </ion-toolbar>
  <ion-toolbar>
    <ion-segment  [(ngModel)]="category" (ionChange)="segmentChanged($event)">
      <ion-segment-button value=0>
        <ion-icon name="add-circle-outline"></ion-icon>
        Quick Log
      </ion-segment-button>
      <ion-segment-button value=1>
        <ion-icon name="camera"></ion-icon>
        Scan Barcode
      </ion-segment-button>
      <ion-segment-button value=2>
        <ion-icon src="../../../assets/imgs/full_add.svg"></ion-icon>
        Detailed add
      </ion-segment-button>
      
    </ion-segment>

  </ion-toolbar>
  <div *ngIf="category == 0">
  <ion-toolbar  >
    <ion-searchbar
          showcancelbutton=""
          (ionInput)="FilterDefaultData($event)"
    ></ion-searchbar>
  </ion-toolbar>
  </div>
</ion-header>

<div *ngIf = "!name; else forminfo"></div>

  <ion-content>
    <ion-slides #slides  (ionSlideWillChange)="slideChanged()" scrollbar="true">  
      <ion-slide>
        <div class="quickaddbox">
    
          
          <ion-item (click) = "presentPopover($event,item)"  class= "defaultItem" *ngFor="let item of defaultWaste"> 
           
              <ion-label>{{ item.wastename }}</ion-label>
              <ion-icon name="add-circle" color = "primary" item-right></ion-icon>
            
        </ion-item>
     
       
      </div>
      </ion-slide>  
      <ion-slide >
        <div class="cam-add-box">
          <ion-label  position="stacked">Click To Scan!</ion-label>
          <ion-button expand="block" class="ion-no-margin" (click) = "scanBarcode()">scan</ion-button>
        </div>
        
      </ion-slide>  
      <ion-slide>
        <form class = "addForm" [formGroup]="quickAdd" (ngSubmit)="processForm()"> 
          <div class="add-box">
            <div class="head">
              <ion-text>Waste Info</ion-text>
            </div>
          

    
              <ion-item>
                <ion-label class="input-label" position="stacked">Waste Name <ion-text color="danger">*</ion-text></ion-label>
                <ion-input  type="text" formControlName="wasteName" ></ion-input>
              </ion-item>
              
              <ion-item class="ion-no-margin ion-no-padding">
                <ion-item >
                  <ion-label class="input-label" position="stacked">Amount<ion-text color="danger">*</ion-text> </ion-label>
                  <ion-input type="number" formControlName="wasteAmount"></ion-input>
                </ion-item>
              </ion-item>
              <ion-item class="ion-no-margin ion-no-padding">
                <ion-item side ="start">
                  <ion-label class="input-label" position="stacked">Date <ion-text color="danger"></ion-text> </ion-label>
                  <ion-datetime displayFormat="MM-DD-YYYY" formControlName="logDate"></ion-datetime>
                </ion-item>
                <ion-item side ="end">
                  <ion-label class="input-label" position="stacked">Time <ion-text color="danger"></ion-text> </ion-label>
                  <ion-datetime displayFormat="HH:mm" formControlName="logTime"></ion-datetime>
                </ion-item>
              </ion-item>
              <ion-item>
                <ion-checkbox  color="secondary" checked slot="start" formControlName="wasRecycled"></ion-checkbox>
                <ion-label >Waste Recycled</ion-label>
              </ion-item>

            </div>
              <div class="add-box">
                <div class="head">
                  <ion-text>Waste Material</ion-text>
                </div>
                
                <ion-item >
                  <ion-label class="input-label" position="stacked">Waste Type <ion-text color="danger">*</ion-text> </ion-label>
                  <ion-input  (click) = "showTimePicker()" type="text" readonly = "true" formControlName="wasteType" ></ion-input>
                 
                </ion-item>
                <ion-item>
                  <ion-label class="input-label"position="stacked">Waste Material <ion-text color="danger">*</ion-text> </ion-label>
                  <ion-input disabled="{{selectEnable}}" (click) = "showPicker()" type="text" readonly = "true" formControlName="wasteMaterial" ></ion-input>
                </ion-item>
                <ion-item>
                  <ion-label  class="input-label" position="stacked">Extra Notes <ion-text color="danger">*</ion-text> </ion-label>
                  <ion-textarea rows="2" type="text" formControlName="wasteNotes"></ion-textarea>
                </ion-item>
              </div>

            <div class="ion-padding">
              <ion-button expand="block" type="submit" class="ion-no-margin" [disabled]="!quickAdd.valid"> Submit </ion-button>
            </div>
    
          
        </form>
        
      
      
      </ion-slide>  

    </ion-slides>  
  </ion-content>
    



<ng-template #forminfo>
  <ion-content>
    <div class="add-box">
          <ion-item>
            <ion-label position="stacked">waste amount : {{wasteType}}</ion-label>

          </ion-item>
    </div>
  </ion-content>

</ng-template>

